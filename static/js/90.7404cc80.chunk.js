"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[90],{90:function(e,n,s){s.r(n),s.d(n,{default:function(){return M}});var a=s(5861),t=s(4942),o=s(1413),c=s(8152),r=s(7757),i=s.n(r),l=s(2791),u=s(577),d=s(6871),p=s(4569),g=s.n(p),_=s(3504),f=s(6241);var m=s.p+"static/media/login.4fabe475474ee022c4944d7a4b016618.svg",h=s(9009),j="login_container__8uge5",v="login_forms_container__EWSyz",x="login_signin_signup__h4cAa",b="login_sign_in_form__enr7F",w="login_google_login_title__-BLrZ",N="login_title__cRko9",Z="login_logo_login__HS062",y="login_input_field__jAhSR",O="login_focus__OfYMU",k="login_valid_field__zydJ6",S="login_validation_container__pLU2p",P="login_message__+Q1qQ",F="login_routeLinkBtn__P8I86",A="login_btn__sTCTz",C="login_panels_container__TvPm-",L="login_image__m8Xen",z="login_panel__ngSoe",E="login_left_panel__hjXap",B="login_content__RhWnd",D=s(2830),I=s(7594),T=s(184),M=function(e){e.history;document.title="NCPSC || Login ";var n=(0,d.s0)(),s=(0,l.useState)({email:"",password:"",emailFocus:"",passwordFocus:"",loading:!1}),r=(0,c.Z)(s,2),p=r[0],M=r[1],U=p.email,R=p.password,H=p.emailFocus,Q=p.passwordFocus,W=p.loading,X=(0,l.useState)(!1),q=(0,c.Z)(X,2),G=(q[0],q[1]);(0,l.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[]);var J=function(e){return function(n){M((0,o.Z)((0,o.Z)({},p),{},(0,t.Z)({},e,n.target.value)))}},V=function(){var e=(0,a.Z)(i().mark((function e(s){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,g().post("".concat(I.Sv,"/api/login"),{email:U,password:R});case 4:(a=e.sent).data.auth?(G(!0),localStorage.setItem("token",a.data.token),n("/dashboard")):G(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),G(!1),e.t0.response.data&&u.Am.error(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();function Y(){return(Y=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().get("".concat(I.Sv,"/api/isUserAuth"),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:e.sent.data.auth&&n("/dashboard"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u.Am.info("Login to continue"),console.dir(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var $=function(e){var n="".concat(y," ");return"email"===e&&(H&&(n+="".concat(O," ")),!1===H&&U.length>0&&(/^([a-zA-Z0-9.])+@([a-zA-Z]+\.[a-zA-Z]+){0,3}$/.test(U),n+="".concat(k," "))),"password"===e&&(Q&&(n+="".concat(O," ")),!1===Q&&R.length>0&&(R.trim().length,n+="".concat(k," "))),n};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(u.Ix,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,T.jsxs)("div",{className:j,children:[(0,T.jsx)("div",{className:v,children:(0,T.jsx)("div",{className:x,children:(0,T.jsxs)("form",{onSubmit:V,className:b,children:[(0,T.jsx)("p",{className:w,children:"Login with School Google Account"}),(0,T.jsx)("img",{src:h,alt:"Ncpsc",className:Z}),(0,T.jsx)("h2",{className:N,children:"Sign in"}),(0,T.jsxs)("div",{className:$("email"),children:[(0,T.jsx)("i",{className:"fas fa-user"}),(0,T.jsx)("input",{value:U,onChange:J("email"),type:"text",placeholder:"Email Adress",onFocus:function(){M((0,o.Z)((0,o.Z)({},p),{},{emailFocus:!0}))},onBlur:function(){M((0,o.Z)((0,o.Z)({},p),{},{emailFocus:!1}))}})]}),(0,T.jsxs)("div",{className:$("password"),children:[(0,T.jsx)("i",{className:"fas fa-lock"}),(0,T.jsx)("input",{value:R,onChange:J("password"),type:"password",onFocus:function(){M((0,o.Z)((0,o.Z)({},p),{},{passwordFocus:!0}))},onBlur:function(){M((0,o.Z)((0,o.Z)({},p),{},{passwordFocus:!1}))},placeholder:"Password"})]}),(0,T.jsxs)("div",{className:S,children:[(0,T.jsxs)("span",{className:P,children:[(0,T.jsx)("i",{className:"far fa-check-circle"}),"Must be a valid Email"]}),(0,T.jsxs)("span",{className:P,children:[(0,T.jsx)("i",{className:"far fa-check-circle"}),"Password Must contain 6 characters"]})]}),(0,T.jsx)("input",{type:"submit",defaultValue:"Login",className:"".concat(A," solid")})]})})}),(0,T.jsx)("div",{className:C,children:(0,T.jsxs)("div",{className:"".concat(z," ").concat(E),children:[(0,T.jsxs)("div",{className:B,children:[(0,T.jsx)("h3",{children:"Facing any Issue?"}),(0,T.jsx)(_.rU,{className:"".concat(F),to:"/message",children:"Send a Messgae"}),(0,T.jsx)("p",{children:"Tips: Login with your google account!"})]}),(0,T.jsx)("img",{src:m,className:L,alt:"background"})]})})]}),(0,T.jsx)(D.Z,{}),W?(0,T.jsx)(f.Z,{}):null]})}},9009:function(e,n,s){e.exports=s.p+"static/media/logo.bbdad9ee065cafbeb389.png"},4942:function(e,n,s){function a(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}s.d(n,{Z:function(){return a}})},1413:function(e,n,s){s.d(n,{Z:function(){return o}});var a=s(4942);function t(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?t(Object(s),!0).forEach((function(n){(0,a.Z)(e,n,s[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))}))}return e}}}]);
//# sourceMappingURL=90.7404cc80.chunk.js.map