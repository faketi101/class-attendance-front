{"version":3,"file":"static/js/181.9a311fbd.chunk.js","mappings":"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","sources":["helpers/attendanceCounter.js","helpers/errorHandler.js","pages/dashboard/Dashboard-components/Admin/N_StudentTable.jsx","pages/dashboard/Dashboard-components/student/N_AttendanceLog.jsx","webpack://client/./src/pages/dashboard/Dashboard-components/Admin/style_uti.module.css?5e52"],"sourcesContent":["exports.status = (d) => {\r\n  //   console.log(d);\r\n  let presents = [];\r\n  let absents = [];\r\n  let sicks = [];\r\n  let leaves = [];\r\n  d.classes.map((cls) => {\r\n    if (cls.attend === \"present\" || cls.attend === \"late\") {\r\n      presents.push(cls);\r\n    }\r\n    if (cls.attend === \"absent\" || cls.attend === \"camera_off\") {\r\n      absents.push(cls);\r\n    }\r\n    if (cls.attend === \"sick\") {\r\n      sicks.push(cls);\r\n    }\r\n    if (cls.attend === \"leave\") {\r\n      leaves.push(cls);\r\n    }\r\n    return null;\r\n  });\r\n  if (\r\n    presents.length + absents.length + sicks.length + leaves.length ===\r\n    d.classes.length\r\n  ) {\r\n    let total_class =\r\n      presents.length + absents.length + sicks.length + leaves.length;\r\n\r\n    let f_status = \"present\";\r\n    if (presents.length === total_class) {\r\n      f_status = \"present\";\r\n    }\r\n    if (sicks.length > 1) {\r\n      f_status = \"sick\";\r\n    }\r\n    if (leaves.length > 1) {\r\n      f_status = \"leave\";\r\n    }\r\n    if (absents.length > 0) {\r\n      f_status = \"absent\";\r\n    }\r\n\r\n    let obj = {\r\n      f_status,\r\n      total_class,\r\n      presents,\r\n      absents,\r\n      sicks,\r\n      leaves,\r\n    };\r\n    return obj;\r\n  }\r\n};\r\nexports.counter = (d) => {\r\n  // console.log(d);\r\n  // console.log(Array.isArray(d.online_attendance));\r\n  const isArray = Array.isArray(d.online_attendance);\r\n  let status;\r\n  if (isArray) {\r\n    status = d.online_attendance.map(this.status);\r\n  } else {\r\n    status = this.status(d.online_attendance);\r\n  }\r\n  let class_count = status.length || 1;\r\n  //   console.log(status);\r\n  let presents = [];\r\n  let absents = [];\r\n  let sicks = [];\r\n  let leaves = [];\r\n  if (Array.isArray(status)) {\r\n    // console.log(status);\r\n    status.map((cls) => {\r\n      if (!cls) {\r\n        return console.log(d);\r\n      }\r\n      if (cls.f_status && cls.f_status === \"present\") {\r\n        presents.push(cls);\r\n      }\r\n      if (\r\n        cls.f_status &&\r\n        (cls.f_status === \"absent\" || cls.attend === \"camera_off\")\r\n      ) {\r\n        absents.push(cls);\r\n      }\r\n      if (cls.f_status && cls.f_status === \"sick\") {\r\n        sicks.push(cls);\r\n      }\r\n      if (cls.f_status && cls.f_status === \"leave\") {\r\n        leaves.push(cls);\r\n      }\r\n      return null;\r\n    });\r\n  } else {\r\n    let cls = status;\r\n    if (cls.f_status === \"present\") {\r\n      presents.push(cls);\r\n    }\r\n    if (cls.f_status === \"absent\" || cls.attend === \"camera_off\") {\r\n      absents.push(cls);\r\n    }\r\n    if (cls.f_status === \"sick\") {\r\n      sicks.push(cls);\r\n    }\r\n    if (cls.f_status === \"leave\") {\r\n      leaves.push(cls);\r\n    }\r\n  }\r\n  if (\r\n    presents.length + absents.length + sicks.length + leaves.length ===\r\n    class_count\r\n  ) {\r\n    let present_percent = (presents.length * 100) / class_count;\r\n    let obj = {\r\n      present_percent,\r\n      class_count,\r\n      presents,\r\n      absents,\r\n      sicks,\r\n      leaves,\r\n    };\r\n    // console.log(class_count);\r\n    // console.log(obj);\r\n    return obj;\r\n  }\r\n};\r\n\r\nexports.filter = (updateData) => {\r\n  let _data = updateData.data;\r\n  let update_date = updateData?.data?.update_date;\r\n\r\n  // console.log(update_date);\r\n  let filtered_data = [];\r\n\r\n  let s_data = _data.data;\r\n  // console.log(s_data);\r\n  s_data.map((d) => {\r\n    d.online_attendance.map((a) => {\r\n      if (a.date === update_date) {\r\n        let obj = {\r\n          student: d,\r\n          attendance: a,\r\n        };\r\n        filtered_data.push(obj);\r\n        // console.log(filtered_data);\r\n      }\r\n      return null;\r\n    });\r\n    return null;\r\n  });\r\n  // console.log(s_data.length);\r\n  // console.log(filtered_data.length);\r\n  if (filtered_data.length === s_data.length) {\r\n    // console.log(filtered_data);\r\n    return filtered_data;\r\n  }\r\n};\r\n\r\n\r\nexports.bdDate = () => {\r\n  var d = new Date();\r\n  var utc = d.getTime() + d.getTimezoneOffset() * 60000;\r\n  var nd = new Date(utc + 3600000 * 6);\r\n\r\n  let month = \"\";\r\n  let day = \"\";\r\n  if (nd.getMonth() < 10) {\r\n    month = `0${nd.getMonth() + 1}`;\r\n  } else {\r\n    month = nd.getMonth() + 1;\r\n  }\r\n\r\n  if (nd.getDate() < 10) {\r\n    day = `0${nd.getDate()}`;\r\n  } else {\r\n    day = nd.getDate();\r\n  }\r\n  let obj = {\r\n    date: `${nd.getFullYear()}-${month}-${day}`,\r\n    all: nd,\r\n  };\r\n\r\n  return obj;\r\n};","const errorHandler = (error) => {\r\n  // console.log(\"============frontend error===========\");\r\n  // console.log(\"============frontend error===========\");\r\n  // console.log(\"============frontend error===========\");\r\n  // console.log(\"============frontend error===========\");\r\n  // console.dir(error);\r\n};\r\n\r\nmodule.exports = errorHandler;\r\n","import { status } from \"../../../../helpers/attendanceCounter\";\r\n// import ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport { useState } from \"react\";\r\n\r\nconst StudentTable = ({ d, inputs, rev }) => {\r\n  const student = d.data;\r\n  const [absentStudent, setAbsentStudent] = useState(false);\r\n  const [sickStudent, setSickStudent] = useState(false);\r\n  const [leaveStudent, setLeaveStudent] = useState(false);\r\n  // console.log(rev);\r\n  let f_presents = [];\r\n  let f_absents = [];\r\n  let f_sicks = [];\r\n  let f_leaves = [];\r\n  const Single = (d, j) => {\r\n    // console.log(d);\r\n    const single_att = (ac, i) => {\r\n      return (\r\n        <>\r\n          <td className=\"fs-6\" id={`${d.name}`} key={`_${i}`}>\r\n            <p\r\n              className={`badge text-wrap ${\r\n                ac.attend === \"present\"\r\n                  ? \"bg-success\"\r\n                  : ac.attend === \"absent\" || ac.attend === \"camera_off\"\r\n                  ? \"bg-danger\"\r\n                  : ac.attend === \"sick\" || ac.attend === \"leave\"\r\n                  ? \"bg-primary\"\r\n                  : \"bg-warning\"\r\n              }`}\r\n            >\r\n              {ac.attend.toUpperCase()}\r\n            </p>\r\n          </td>\r\n        </>\r\n      );\r\n    };\r\n    let a_status = status(d);\r\n    let tc = a_status.total_class;\r\n    let tac = a_status.presents.length;\r\n    // console.log(a_status.f_status);\r\n    if (a_status.f_status === \"present\") {\r\n      f_presents.push(d);\r\n    } else if (a_status.f_status === \"absent\") {\r\n      f_absents.push(d);\r\n    } else if (a_status.f_status === \"sick\") {\r\n      f_sicks.push(d);\r\n    } else if (a_status.f_status === \"leave\") {\r\n      f_leaves.push(d);\r\n    }\r\n    return (\r\n      <>\r\n        <tr key={`___${j}___`}>\r\n          <td>{d.date}</td>\r\n          <td>{d.classes.map(single_att)}</td>\r\n          <td>\r\n            <p\r\n              className={`badge ${\r\n                tc === tac\r\n                  ? \"bg-success\"\r\n                  : tac === 0\r\n                  ? \"bg-danger\"\r\n                  : \"bg-warning text-danger\"\r\n              }`}\r\n            >\r\n              {`${tac} / ${tc}`}\r\n            </p>\r\n          </td>\r\n        </tr>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const statusChange = (e) => {\r\n    const btn = e.target.value;\r\n    // console.log(btn);\r\n    if (btn === \"absent\") {\r\n      if (absentStudent) {\r\n        setAbsentStudent(false);\r\n        setSickStudent(false);\r\n        setLeaveStudent(false);\r\n      } else {\r\n        setAbsentStudent(true);\r\n        setSickStudent(false);\r\n        setLeaveStudent(false);\r\n      }\r\n    } else if (btn === \"sick\") {\r\n      if (sickStudent) {\r\n        setAbsentStudent(false);\r\n        setSickStudent(false);\r\n        setLeaveStudent(false);\r\n      } else {\r\n        setAbsentStudent(false);\r\n        setSickStudent(true);\r\n        setLeaveStudent(false);\r\n      }\r\n    } else if (btn === \"leave\") {\r\n      if (leaveStudent) {\r\n        setAbsentStudent(false);\r\n        setSickStudent(false);\r\n        setLeaveStudent(false);\r\n      } else {\r\n        setAbsentStudent(false);\r\n        setSickStudent(false);\r\n        setLeaveStudent(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const ShowFilters = ({ d, header }) => {\r\n    const S = (s, i) => {\r\n      return (\r\n        <>\r\n          <tr>\r\n            <td>{i + 1}</td>\r\n            <td>{s.date}</td>\r\n          </tr>\r\n        </>\r\n      );\r\n    };\r\n    return (\r\n      <>\r\n        <h5>{`${header} for ${inputs.view_id}`}</h5>\r\n        <table className=\"table table-striped\">\r\n          <thead className=\"bg-dark text-white\">\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Absent Date</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{d.map(S)}</tbody>\r\n        </table>\r\n      </>\r\n    );\r\n  };\r\n\r\n  let main_arr = student.online_attendance;\r\n\r\n  let total_index = main_arr.length;\r\n\r\n  let reversed = [];\r\n  for (let i = 0; i < total_index; i++) {\r\n    reversed[i] = main_arr[total_index - i - 1];\r\n  }\r\n  // if(reversed.length === main_arr.length){\r\n  //   setReve(reversed)\r\n  // }\r\n\r\n  // let rev = student.online_attendance;\r\n  // rev = rev.reverse();\r\n  // console.log(reversed);\r\n  // console.log(rev);\r\n\r\n  return (\r\n    <>\r\n      <table id=\"table_div\" className=\"text-center pt-20\">\r\n        <h5 className=\"fw-bold  badge bg-success text-wrap fs-6\">{`Attendance ${\r\n          inputs.view_date ? inputs.view_date : \"\"\r\n        } of ${inputs.view_id}`}</h5>\r\n        <table className=\"table table-striped\" id=\"table\">\r\n          <thead className=\"bg-dark text-white\">\r\n            <tr>\r\n              <th scope=\"col\">Dates</th>\r\n              <th scope=\"col\">Classes</th>\r\n\r\n              <th scope=\"col\">Total Attend</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{rev.map(Single)}</tbody>\r\n        </table>\r\n      </table>\r\n\r\n      <div className=\"btn_div\">\r\n        <button\r\n          value=\"absent\"\r\n          onClick={statusChange}\r\n          className={`btn fw-bold shadow-none ${\r\n            !absentStudent\r\n              ? \"border-danger text-danger\"\r\n              : \"btn-danger text-white\"\r\n          }`}\r\n        >\r\n          {absentStudent ? `Hide Absent ` : `Show Absent [${f_absents.length}]`}\r\n        </button>\r\n\r\n        <button\r\n          value=\"sick\"\r\n          onClick={statusChange}\r\n          className={`btn ${\r\n            !sickStudent\r\n              ? \"border-primary text-primary\"\r\n              : \"btn-primary text-white\"\r\n          }  fw-bold shadow-none`}\r\n        >\r\n          {sickStudent ? `Hide Sick  ` : `Show Sick  [${f_sicks.length}]`}\r\n        </button>\r\n\r\n        <button\r\n          value=\"leave\"\r\n          onClick={statusChange}\r\n          className={`btn ${\r\n            !leaveStudent ? \"border-info text-info\" : \"btn-info text-white\"\r\n          }  fw-bold shadow-none`}\r\n        >\r\n          {leaveStudent ? `Hide Leave ` : `Show Leave [${f_leaves.length}]`}\r\n        </button>\r\n      </div>\r\n      {/* <ReactHTMLTableToExcel\r\n        id=\"test-table-xls-button\"\r\n        className={`btn btn-dark my-2`}\r\n        table=\"table_div\"\r\n        filename={`Attendance ${inputs.view_date ? inputs.view_date : \"\"} of ${\r\n          inputs.view_id\r\n        }`}\r\n        sheet=\"tablexls\"\r\n        buttonText=\"Download as XLS\"\r\n      /> */}\r\n\r\n      {absentStudent && f_absents.length > 0 ? (\r\n        <ShowFilters d={f_absents} header={\"ABSENTS\"} inputs={inputs} />\r\n      ) : null}\r\n\r\n      {sickStudent && f_sicks.length > 0 ? (\r\n        <ShowFilters d={f_sicks} header={\"SICK\"} inputs={inputs} />\r\n      ) : null}\r\n\r\n      {leaveStudent && f_leaves.length > 0 ? (\r\n        <ShowFilters d={f_leaves} header={\"LEAVE\"} inputs={inputs} />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\nexport default StudentTable;\r\n","import style from \"../Admin/style_uti.module.css\";\r\nimport { useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport StudentTable from \"../Admin/N_StudentTable\";\r\nimport { getUser, server_url } from \"../../../../helpers/auth\";\r\nimport Loading from \"../../../../components/loading\";\r\nimport errorHandler from \"../../../../helpers/errorHandler\";\r\nconst StudentAttendanceLog = () => {\r\n  document.title = \"NCPSC || View Attendance\";\r\n  const [stData, setStData] = useState(\"\");\r\n  const [inputs, setInputs] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [rev, setRev] = useState(\"\");\r\n  const submit_handler_st = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      setLoading(true);\r\n\r\n      let user = await getUser();\r\n      const view_id = user.school_id;\r\n      const view_date = e.target.view_date.value;\r\n      const _token = localStorage.getItem(\"token\");\r\n\r\n      if (!view_id) return toast.error(\"No Student ID Filled!\");\r\n      let submit_obj = { view_date, view_id, _token };\r\n      setInputs(submit_obj);\r\n\r\n      const res = await axios.post(\r\n        `${server_url}/api/view_attendance_classes`,\r\n        submit_obj\r\n      );\r\n      if (res.data.success) {\r\n        setRev(res.data.data.online_attendance.reverse());\r\n        setStData(res.data);\r\n        // console.log(res.data);\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      setLoading(false);\r\n\r\n      toast.error(error?.response?.data?.message || \"Error!\");\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  const IdWise = () => {\r\n    return (\r\n      <>\r\n        <form\r\n          action=\"\"\r\n          onSubmit={submit_handler_st}\r\n          className={`${style.form_2}`}\r\n        >\r\n          <div className={style.cls_div}>\r\n            <p>Date:</p>\r\n            <input type=\"date\" placeholder=\"\" name=\"view_date\" />\r\n          </div>\r\n\r\n          <div className={style.cls_div}>\r\n            <button\r\n              className={`btn btn-info text-white fw-bold shadow-none `}\r\n              id=\"view_submit_btn\"\r\n              type=\"submit\"\r\n            >\r\n              View Attendance\r\n            </button>\r\n            <button\r\n              className={`btn btn-danger shadow-none `}\r\n              id=\"view_submit_btn\"\r\n              type=\"reset\"\r\n            >\r\n              Reset Inputs\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n\r\n      <h3 className=\"text-info\">Student Attendance Log</h3>\r\n      <IdWise />\r\n      {stData && rev ? (\r\n        <StudentTable d={stData} inputs={inputs} rev={rev} />\r\n      ) : null}\r\n      {loading ? <Loading /> : null}\r\n    </>\r\n  );\r\n};\r\nexport default StudentAttendanceLog;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"style_uti_form__3KRm5\",\"form_2\":\"style_uti_form_2__gvoqw\",\"date_div\":\"style_uti_date_div__EOiel\",\"cls_div\":\"style_uti_cls_div__F7lfj\",\"st_id_div\":\"style_uti_st_id_div__Xh+33\",\"input_1\":\"style_uti_input_1__n-x9i\",\"button\":\"style_uti_button__h6xHr\"};"],"names":["exports","status","d","presents","absents","sicks","leaves","classes","map","cls","attend","push","length","total_class","f_status","counter","class_count","Array","isArray","online_attendance","console","log","present_percent","filter","updateData","_data","data","update_date","filtered_data","s_data","a","date","obj","student","attendance","bdDate","Date","utc","getTime","getTimezoneOffset","nd","month","day","getMonth","getDate","getFullYear","all","module","error","inputs","rev","useState","absentStudent","setAbsentStudent","sickStudent","setSickStudent","leaveStudent","setLeaveStudent","f_presents","f_absents","f_sicks","f_leaves","statusChange","e","btn","target","value","ShowFilters","header","view_id","className","s","i","main_arr","total_index","reversed","id","view_date","scope","j","a_status","tc","tac","ac","name","toUpperCase","onClick","document","title","stData","setStData","setInputs","loading","setLoading","setRev","submit_handler_st","preventDefault","getUser","user","school_id","_token","localStorage","getItem","toast","submit_obj","axios","server_url","res","success","reverse","response","message","errorHandler","IdWise","action","onSubmit","style","type","placeholder","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover"],"sourceRoot":""}