(self.webpackChunkclient=self.webpackChunkclient||[]).push([[506],{8836:function(e){e.exports=function(e){}},6506:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var n=t(5861),a=t(8152),r=t(7757),c=t.n(r),o=t(6871),i=t(2791),d=t(7594),l="pass_loginbox__5pmqz",u="pass_avatar__DGCLC",p="pass_user_av__Nz368",m="pass_not_matched__JOm+S",_="pass_matched__WvegP",v=t(577),w=t(4569),x=t.n(w),f=t(8836),h=t.n(f),g=t(6241),L=t(184),j=function(){document.title="NCPSC || Change Password";var e=(0,i.useState)(""),s=(0,a.Z)(e,2),t=s[0],r=s[1],w=(0,i.useState)(!1),f=(0,a.Z)(w,2),j=f[0],C=f[1],y=(0,o.s0)(),P=function(){var e=(0,n.Z)(c().mark((function e(){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.PR)();case 2:s=e.sent,r(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){P()}),[]),t||y("/");var b=function(){var e=document.getElementById("new_pass"),s=document.getElementById("con_new_pass"),t=document.getElementById("new_pass_err"),n=document.getElementById("con_new_pass_err");e.classList.remove(_),s.classList.remove(_),e.classList.remove(m),s.classList.remove(m),t.classList.remove(_),n.classList.remove(_),n.innerText="",t.innerText=""},k=function(e){var s=document.getElementById("new_pass"),t=document.getElementById("con_new_pass"),n=document.getElementById("new_pass_err"),a=document.getElementById("con_new_pass_err"),r=e.target.value;r===s.value&&(t.classList.remove(m),n.classList.remove(m),a.classList.remove(m),t.classList.add(_),s.classList.add(_),n.classList.add(_),a.classList.add(_),a.innerText="Matched",n.innerText="Matched"),r!==s.value&&(s.classList.remove(_),t.classList.remove(_),n.classList.remove(_),a.classList.remove(_),s.classList.add(m),t.classList.add(m),n.classList.add(m),a.classList.add(m),n.innerText="Not Matched",a.innerText="Not Matched")},E=function(){var e=(0,n.Z)(c().mark((function e(s){var t,n,a,r,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.preventDefault(),C(!0),t=s.target.pre_pass.value,n=s.target.new_pass.value,a=s.target.con_new_pass.value,r=localStorage.getItem("token"),t&&n&&a){e.next=10;break}return C(!1),e.abrupt("return",v.Am.error("All inputs must be filled!!"));case 10:if(n===a){e.next=13;break}return C(!1),e.abrupt("return",v.Am.error("New Password and Confirm Password not Matched!"));case 13:return o={pre_pass:t,new_pass:n,_token:r},e.next=16,x().post("".concat(d.Sv,"/api/change_password"),o);case 16:(i=e.sent).data.success&&(v.Am.success(i.data.message),s.target.reset(),b(),C(!1)),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message),h()(e.t0),C(!1);case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(s){return e.apply(this,arguments)}}(),N=function(){var e;return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:l,children:[(0,L.jsx)("div",{className:u,children:(0,L.jsx)("i",{className:"fas fa-user ".concat(p)})}),(0,L.jsxs)("h1",{children:["Hi, ",null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.toUpperCase()]}),(0,L.jsxs)("form",{onSubmit:E,children:[(0,L.jsx)("input",{id:"pre_pass",type:"password",name:"pre_pass",placeholder:"Enter Current Password"}),(0,L.jsxs)("p",{children:["New Password ",(0,L.jsx)("span",{id:"new_pass_err"})]}),(0,L.jsx)("input",{id:"new_pass",type:"password",name:"new_pass",placeholder:"Enter New Password"}),(0,L.jsxs)("p",{children:["Confirm Password ",(0,L.jsx)("span",{id:"con_new_pass_err"})]}),(0,L.jsx)("input",{id:"con_new_pass",type:"password",name:"con_new_pass",placeholder:"Confirm New Password",onChange:k}),(0,L.jsx)("input",{type:"submit",value:"Change Password",name:!0})]})]})})};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(v.Ix,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),j?(0,L.jsx)(g.Z,{}):null,t?(0,L.jsx)(N,{}):(0,L.jsx)(g.Z,{})]})}}}]);
//# sourceMappingURL=506.112d1abe.chunk.js.map